import { useSpring, animated } from "@react-spring/web";
import { useInView } from "react-intersection-observer";
import { useEffect } from "react";

const NextJSLogo = () => {
  // Set up Intersection Observer
  const [ref, inView] = useInView({ threshold: 0.3 });

  // Set up react-spring for opacity
  const [styles, api] = useSpring(() => ({
    opacity: 0, // Start fully transparent
    config: { tension: 120, friction: 14 },
  }));

  // Trigger the fade-in once the GithubLogo component is in view
  useEffect(() => {
    if (inView) {
      api.start({ opacity: 1 }); // Animate from 0 to 1
    }
  }, [inView, api]);

  return (
    <div style={{ display: "flex", justifyContent: "center" }}>
      <div ref={ref}>
        <svg
          id="GithubLogo"
          xmlns="http://www.w3.org/2000/svg"
          width="300"
          height="150"
          viewBox="0 0 300 150"
        >
          <animated.g style={styles}>
            <path
              d="M179.79,56.79h31.5v5.81h-12.49v30.58h-6.25v-30.58h-12.75v-5.81Z"
              fill="var(--text-color)"
            />
            <path
              d="M128,56.79v5.81h-25.25v9.35h20.3v5.81h-20.3v9.6h25.25v5.81h-31.49v-30.58h0v-5.81h31.5Z"
              fill="var(--text-color)"
            />
            <path
              d="M143.72,56.8h-8.18l29.28,36.4h8.2l-14.64-18.19,14.62-18.18h-8.18s-10.54,13.1-10.54,13.1l-10.57-13.13Z"
              fill="var(--text-color)"
            />
            <path
              d="M152.11,82.8l-4.09-5.09-12.49,15.52h8.2l8.39-10.43Z"
              fill="var(--text-color)"
            />
            <path
              d="M96.72,93.18l-29.32-36.41h-7.81v36.4h6.25v-28.62l23.04,28.63h7.85Z"
              fill="var(--text-color)"
              fillRule="evenodd"
            />
            <path
              d="M212.69,92.96c-.46,0-.85-.16-1.17-.48-.33-.32-.49-.7-.48-1.16,0-.44.16-.82.48-1.14s.72-.48,1.17-.48.83.16,1.15.48c.33.32.5.7.5,1.14,0,.3-.08.58-.23.82-.16.25-.36.45-.61.59-.25.15-.52.22-.81.22Z"
              fill="var(--text-color)"
            />
            <path
              d="M223.36,77.63h2.77v10.67c0,.98-.22,1.82-.63,2.52-.42.7-1,1.24-1.74,1.62-.74.38-1.61.57-2.59.57-.9,0-1.71-.16-2.43-.48-.72-.32-1.29-.79-1.71-1.42-.42-.63-.63-1.41-.63-2.34h2.77c0,.41.1.76.27,1.06s.42.52.74.68c.32.16.68.24,1.09.24.44,0,.83-.09,1.13-.28.31-.18.55-.46.71-.83.16-.36.25-.81.25-1.35v-10.67Z"
              fill="var(--text-color)"
            />
            <path
              d="M237.51,81.8c-.07-.65-.36-1.15-.88-1.51-.52-.36-1.19-.54-2.02-.54-.58,0-1.08.09-1.49.26-.41.18-.74.41-.96.7-.22.3-.33.63-.34,1.01,0,.32.08.59.22.82.15.23.35.43.61.59.25.16.54.3.85.4.31.11.63.2.94.28l1.44.35c.58.13,1.14.31,1.68.54.54.23,1.02.51,1.45.86.43.35.77.76,1.02,1.25.25.49.38,1.06.38,1.72,0,.89-.23,1.67-.69,2.34-.46.67-1.13,1.2-2,1.58-.87.38-1.92.57-3.15.57s-2.23-.18-3.11-.55c-.88-.36-1.57-.9-2.06-1.6-.5-.7-.76-1.56-.8-2.56h2.74c.04.53.21.96.5,1.32.29.35.67.61,1.14.78.47.17.99.26,1.57.26s1.14-.09,1.6-.27c.46-.18.82-.43,1.08-.75.26-.32.39-.7.4-1.13,0-.4-.12-.73-.35-.98-.23-.26-.55-.48-.97-.65-.41-.18-.9-.33-1.45-.47l-1.75-.44c-1.27-.32-2.27-.81-3-1.46-.74-.65-1.1-1.52-1.1-2.61,0-.89.25-1.68.74-2.35.49-.67,1.16-1.19,2.01-1.56.85-.38,1.82-.56,2.89-.56s2.05.18,2.87.56c.83.37,1.47.89,1.94,1.55.47.66.72,1.41.73,2.27h-2.68Z"
              fill="var(--text-color)"
            />
          </animated.g>
        </svg>
      </div>
    </div>
  );
};

export default NextJSLogo;
