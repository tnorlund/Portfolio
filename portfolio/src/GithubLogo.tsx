import React from "react";
import { useSpring, animated } from "@react-spring/web";
import { useInView } from "react-intersection-observer";

const GithubLogo = () => {
  // Set up Intersection Observer
  const [ref, inView] = useInView({ threshold: 0.3 });

  // Set up react-spring for opacity
  const [styles, api] = useSpring(() => ({
    opacity: 0, // Start fully transparent
    config: { tension: 120, friction: 14 },
  }));

  // Trigger the fade-in once the GithubLogo component is in view
  React.useEffect(() => {
    if (inView) {
      api.start({ opacity: 1 }); // Animate from 0 to 1
    }
  }, [inView, api]);

  return (
    <div style={{ display: "flex", justifyContent: "center" }}>
      <div ref={ref}>
        <svg
          id="GithubLogo"
          xmlns="http://www.w3.org/2000/svg"
          width="300"
          height="150"
          viewBox="0 0 300 150"
        >
          <animated.g style={styles}>
            <path
              d="M143.64,72.88v17.28c0,.12-.03.33-.18.39,0,0-3.76,2.68-9.96,2.68-7.5,0-16.38-2.35-16.38-17.82s7.77-18.67,15.35-18.63c6.56,0,9.21,1.48,9.63,1.75.12.15.18.27.18.42l-1.26,5.36c0,.27-.27.6-.6.51-1.09-.33-2.71-.99-6.53-.99-4.43,0-9.18,1.26-9.18,11.23s4.51,11.14,7.77,11.14c2.77,0,3.76-.33,3.76-.33v-6.92h-4.43c-.33,0-.57-.24-.57-.51v-5.54c0-.27.24-.51.57-.51h11.26c.33,0,.57.24.57.51ZM200.45,58.07h-6.35c-.27,0-.51.24-.51.51v12.31h-9.96v-12.31c0-.27-.24-.51-.51-.51h-6.41c-.27,0-.51.24-.51.51v33.44c0,.27.27.51.51.51h6.41c.27,0,.51-.24.51-.51v-14.3h9.96l-.06,14.3c0,.27.24.51.51.51h6.41c.27,0,.51-.24.51-.51v-33.44c0-.27-.24-.51-.51-.51ZM150.8,58.82c-2.32,0-4.15,1.84-4.15,4.16s1.84,4.16,4.15,4.16,4.09-1.84,4.09-4.16-1.84-4.16-4.09-4.16ZM153.97,68.99h-6.41c-.27,0-.51.27-.51.6v22.1c0,.6.39.81.9.81h5.78c.6,0,.75-.27.75-.81v-22.19c0-.27-.24-.51-.51-.51ZM225.31,69.03h-6.32c-.33,0-.51.24-.51.57v16.38s-1.66,1.17-3.92,1.17-2.92-1.03-2.92-3.28v-14.3c0-.27-.24-.51-.51-.51h-6.44c-.27,0-.51.24-.51.51v15.38c0,6.62,3.7,8.28,8.79,8.28,4.19,0,7.59-2.32,7.59-2.32,0,0,.15,1.18.24,1.35.06.15.27.27.48.27h4.03c.33,0,.51-.24.51-.51l.06-22.49c0-.27-.24-.51-.57-.51ZM251.56,79.89c0,10.32-3.34,13.27-9.18,13.27-4.94,0-7.59-2.5-7.59-2.5,0,0-.12,1.38-.27,1.56-.09.18-.24.24-.42.24h-4.46c-.3,0-.57-.24-.57-.51l.06-33.44c0-.27.24-.51.51-.51h6.41c.27,0,.51.24.51.51v11.35s2.47-1.59,6.08-1.59l-.03-.06c3.61,0,8.94,1.36,8.94,11.68ZM244.24,80.37c0-5.45-2.2-6.17-4.52-5.93-1.81.12-3.25,1.02-3.25,1.02v10.59s1.47,1.02,3.67,1.09c3.1.09,4.09-1.03,4.09-6.77ZM172.91,87c-.28,0-.98.15-1.73.15-2.35,0-3.16-1.08-3.16-2.5v-9.43h4.79c.27,0,.48-.24.48-.57v-5.12c0-.27-.24-.51-.48-.51h-4.79v-6.35c0-.24-.15-.39-.42-.39h-6.5c-.27,0-.42.15-.42.39v6.53s-3.28.81-3.49.84c-.24.06-.39.27-.39.51v4.09c0,.33.24.57.51.57h3.34v9.87c0,7.34,5.12,8.1,8.61,8.1,1.6,0,3.52-.51,3.82-.66.18-.06.27-.27.27-.48v-4.52c0-.22-.08-.41-.24-.49-.07-.04-.14-.05-.2-.04Z"
              fill="var(--text-color)"
              fillRule="evenodd"
            />
            <path
              d="M76.64,47.5c-15.57,0-28.2,12.62-28.2,28.2,0,12.46,8.08,23.03,19.28,26.75,1.41.26,1.86-.61,1.86-1.36v-5.25c-7.84,1.71-9.48-3.33-9.48-3.33-1.28-3.26-3.13-4.13-3.13-4.13-2.56-1.75.2-1.71.2-1.71,2.83.2,4.32,2.91,4.32,2.91,2.51,4.31,6.6,3.06,8.2,2.34.25-1.82.98-3.07,1.79-3.77-6.26-.72-12.85-3.13-12.85-13.94,0-3.08,1.1-5.59,2.9-7.57-.29-.71-1.26-3.58.27-7.46,0,0,2.37-.76,7.76,2.89,2.25-.62,4.66-.94,7.06-.95,2.4.01,4.81.32,7.06.95,5.38-3.65,7.75-2.89,7.75-2.89,1.53,3.88.57,6.75.28,7.46,1.81,1.97,2.9,4.49,2.9,7.57,0,10.83-6.6,13.21-12.87,13.91,1.01.87,1.93,2.59,1.93,5.22v7.74c0,.75.45,1.63,1.88,1.35,11.2-3.73,19.26-14.3,19.26-26.75,0-15.57-12.62-28.2-28.2-28.2Z"
              fill="var(--text-color)"
            />
          </animated.g>
        </svg>
      </div>
    </div>
  );
};

export default GithubLogo;
