=== ChromaDB Compaction Metrics Report ===
Time Range: 2025-08-24T16:33:33 to 2025-08-25T16:33:33 (24 hours)
Generated: Mon Aug 25 09:33:33 PDT 2025

=== LAMBDA FUNCTIONS ===
Stream Processor (chromadb-dev-lambdas-stream-processor-e79a370):
Invocations:
----------------------------------------
|          GetMetricStatistics         |
+-----------------------------+--------+
|  2025-08-25T01:33:00+00:00  |  2.0   |
|  2025-08-25T02:33:00+00:00  |  151.0 |
|  2025-08-25T03:33:00+00:00  |  39.0  |
|  2025-08-25T04:33:00+00:00  |  56.0  |
|  2025-08-25T05:33:00+00:00  |  73.0  |
+-----------------------------+--------+
Duration (ms) - Average:
-----------------------------------------------------
|                GetMetricStatistics                |
+----------------------------+----------------------+
|  2025-08-25T01:33:00+00:00 |  2.53                |
|  2025-08-25T02:33:00+00:00 |  142.99841057615896  |
|  2025-08-25T03:33:00+00:00 |  6.42102564102564    |
|  2025-08-25T04:33:00+00:00 |  175.43803551785714  |
|  2025-08-25T05:33:00+00:00 |  211.85520520547945  |
+----------------------------+----------------------+
Errors:

Enhanced Compaction (chromadb-dev-lambdas-enhanced-compaction-79f6426):
Invocations:
---------------------------------------
|         GetMetricStatistics         |
+-----------------------------+-------+
|  2025-08-25T02:33:00+00:00  |  38.0 |
|  2025-08-25T03:33:00+00:00  |  41.0 |
|  2025-08-25T04:33:00+00:00  |  17.0 |
|  2025-08-25T05:33:00+00:00  |  15.0 |
+-----------------------------+-------+
Duration (ms) - Average:
----------------------------------------------------
|                GetMetricStatistics               |
+----------------------------+---------------------+
|  2025-08-25T02:33:00+00:00 |  7552.586578947369  |
|  2025-08-25T03:33:00+00:00 |  7793.591707317072  |
|  2025-08-25T04:33:00+00:00 |  6447.688229411765  |
|  2025-08-25T05:33:00+00:00 |  5619.476666666667  |
+----------------------------+---------------------+
Errors:
---------------------------------------
|         GetMetricStatistics         |
+-----------------------------+-------+
|  2025-08-25T02:33:00+00:00  |  20.0 |
|  2025-08-25T03:33:00+00:00  |  41.0 |
+-----------------------------+-------+

=== SQS QUEUES ===
Lines Queue (chromadb-dev-queues-lines-queue-b3d38e1):
Messages Sent:
Messages Received:

Words Queue (chromadb-dev-queues-words-queue-6e2171c):
Messages Sent:
----------------------------------------
|          GetMetricStatistics         |
+-----------------------------+--------+
|  2025-08-25T02:33:00+00:00  |  129.0 |
|  2025-08-25T04:33:00+00:00  |  92.0  |
|  2025-08-25T05:33:00+00:00  |  85.0  |
+-----------------------------+--------+
Messages Received:
----------------------------------------
|          GetMetricStatistics         |
+-----------------------------+--------+
|  2025-08-25T02:33:00+00:00  |  141.0 |
|  2025-08-25T03:33:00+00:00  |  126.0 |
|  2025-08-25T04:33:00+00:00  |  92.0  |
|  2025-08-25T05:33:00+00:00  |  85.0  |
+-----------------------------+--------+

=== DEAD LETTER QUEUES ===
Lines DLQ (chromadb-dev-queues-lines-dlq-67a9812):
Words DLQ (chromadb-dev-queues-words-dlq-0b5f487):

=== S3 STORAGE ===
ChromaDB Bucket (chromadb-dev-shared-buckets-vectors-c239843):
Current Contents:
                           PRE delta/
                           PRE lines/
                           PRE snapshot/
                           PRE words/
2025-08-23 14:44:39     174376 pending_batches_20250823_144327.ndjson

Total Objects: 1
   Total Size: 174376

Bucket Structure (first 10 files):
------------------------------------------------------------------------------------------------------------------------------------------------
|                                                                 ListObjectsV2                                                                |
+---------------------------+-----------+------------------------------------------------------------------------------------------------------+
|  2025-08-21T20:15:12+00:00|  41       |  delta/.placeholder                                                                                  |
|  2025-08-21T20:22:20+00:00|  62840000 |  lines/delta/00131cd0839a423d8932795ce2cb7f82/979b867e-c079-4ac6-8082-b14b9ddc02f2/data_level0.bin   |
|  2025-08-21T20:22:20+00:00|  100      |  lines/delta/00131cd0839a423d8932795ce2cb7f82/979b867e-c079-4ac6-8082-b14b9ddc02f2/header.bin        |
|  2025-08-21T20:22:20+00:00|  40000    |  lines/delta/00131cd0839a423d8932795ce2cb7f82/979b867e-c079-4ac6-8082-b14b9ddc02f2/length.bin        |
|  2025-08-21T20:22:20+00:00|  0        |  lines/delta/00131cd0839a423d8932795ce2cb7f82/979b867e-c079-4ac6-8082-b14b9ddc02f2/link_lists.bin    |
|  2025-08-21T20:22:19+00:00|  1392640  |  lines/delta/00131cd0839a423d8932795ce2cb7f82/chroma.sqlite3                                         |
|  2025-08-21T20:22:24+00:00|  62840000 |  lines/delta/0049b7fe5e1b4be1a2a4209527c19fc1/b99594fb-65e1-4f95-a07f-f72e28476348/data_level0.bin   |
|  2025-08-21T20:22:25+00:00|  100      |  lines/delta/0049b7fe5e1b4be1a2a4209527c19fc1/b99594fb-65e1-4f95-a07f-f72e28476348/header.bin        |
|  2025-08-21T20:22:25+00:00|  40000    |  lines/delta/0049b7fe5e1b4be1a2a4209527c19fc1/b99594fb-65e1-4f95-a07f-f72e28476348/length.bin        |
|  2025-08-21T20:22:25+00:00|  0        |  lines/delta/0049b7fe5e1b4be1a2a4209527c19fc1/b99594fb-65e1-4f95-a07f-f72e28476348/link_lists.bin    |
+---------------------------+-----------+------------------------------------------------------------------------------------------------------+

S3 CloudWatch Metrics (if available):

=== CUSTOM METRICS ===

=== SUMMARY ===
Script completed at: Mon Aug 25 09:33:51 PDT 2025
Usage: ./get_chromadb_metrics.sh [hours_back] [output_file]
  hours_back: Time range in hours (default: 24)
  output_file: Save to file instead of stdout (optional)
